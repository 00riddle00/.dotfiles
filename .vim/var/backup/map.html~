<!DOCTYPE html>
<html>
  <head>
    <style type="text/css">
      html, body { height: 100%; margin: 0; padding: 0; }
      #map { height: 378px; width: 960px; }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script type="text/javascript">

        function initialize() {
            var map_marker = 'http://' + window.location.host + '/assets/page/images/partials/map-marker.png';
            var map_marker_active = 'http://' + window.location.host + '/assets/page/images/partials/map-marker-active.png';
            var selected_marker;

            var shopPositions = [
                                    new google.maps.LatLng(69.968894, 23.315885),
                            ];

            markers = [
                                                    'marker_0',
                                                ];

            var mapPosition = new google.maps.LatLng(64.5795553, 17.8820071);

            var mapOptions = {
                center: mapPosition,
                zoom: 5,
                panControl: true,
                zoomControl: true,
                mapTypeControl: false,
                scaleControl: false,
                streetViewControl: true,
                overviewMapControl: false
            };
            var map = new google.maps.Map(document.getElementById('map-canvas'),
                    mapOptions);


            for (var i = 0; i < shopPositions.length; i++) {
                markers[i] = new google.maps.Marker({
                    position: shopPositions[i],
                    map: map,
                    title: 'Shop ' + i,
                    icon: map_marker,
                    id: i
                });

                google.maps.event.addListener(markers[i], 'click', function () {
                    for (var i = 0; i < shopPositions.length; i++) {
                        markers[i].setIcon(map_marker);
                        $('#marker_' + i).hide();
                    }

                    if (selected_marker == this.id) {
                        this.setIcon(map_marker);
                        $('#marker_' + this.id).hide();
                        selected_marker = null;
                    } else {
                        this.setIcon(map_marker_active);
                        $('#marker_' + this.id).show();
                        selected_marker = this.id;
                    }
                });

                $('.close-icon').on('click', function () {
                    for (i = 0; i < shopPositions.length; i++) {
                        markers[i].setIcon(map_marker);
                        $('#marker_' + i).hide();
                    }

                    selected_marker = null;
                });
            }
        }
        google.maps.event.addDomListener(window, 'load', initialize);
    </script>




    <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB0khiAua5huEyLwCu6T7n8O_I0B3M4BN0&callback=initMap">
    </script>
  </body>
</html>
